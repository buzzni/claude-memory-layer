# Code Memory

Claude Code í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ, ëŒ€í™” ë‚´ìš©ì„ ê¸°ì–µí•˜ì—¬ ì‚¬ìš©í• ìˆ˜ë¡ ë˜‘ë˜‘í•´ì§€ëŠ” AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤.

## ê°œìš”

Code MemoryëŠ” Claude Codeì—ì„œ ì‚¬ìš©ìì™€ AI ê°„ì˜ ëª¨ë“  ëŒ€í™”ë¥¼ ì €ì¥í•˜ê³ , ìƒˆë¡œìš´ ì§ˆë¬¸ì„ í•  ë•Œ ê´€ë ¨ëœ ê³¼ê±° ëŒ€í™”ë¥¼ ìë™ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ë¡œ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´:

- **ì—°ì†ì„± ìˆëŠ” ëŒ€í™”**: ì´ì „ ì„¸ì…˜ì—ì„œ ë…¼ì˜í•œ ë‚´ìš©ì„ ê¸°ì–µ
- **í”„ë¡œì íŠ¸ ë§¥ë½ ì´í•´**: í”„ë¡œì íŠ¸ë³„ë¡œ ì¶•ì ëœ ì§€ì‹ í™œìš©
- **ê°œì¸í™”ëœ ì‘ë‹µ**: ì‚¬ìš©ìì˜ ì„ í˜¸ë„ì™€ íŒ¨í„´ í•™ìŠµ

## Features

### Core Features

- **Conversation Memory**: ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ì™€ AI ì‘ë‹µ ì €ì¥
- **Semantic Search**: ë²¡í„° ì„ë² ë”©ì„ í†µí•œ ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰
- **AXIOMMIND Architecture**: 7ê°€ì§€ ì›ì¹™ ê¸°ë°˜ ì•ˆì •ì  ë©”ëª¨ë¦¬ ê´€ë¦¬
- **Memory Graduation**: L0â†’L4 ë‹¨ê³„ë³„ ë©”ëª¨ë¦¬ ìŠ¹ê²©
- **Evidence Alignment**: ì‘ë‹µì´ ì‹¤ì œ ê¸°ì–µì— ê¸°ë°˜í–ˆëŠ”ì§€ ê²€ì¦
- **History Import**: ê¸°ì¡´ Claude Code ì„¸ì…˜ ê¸°ë¡ ì„í¬íŠ¸

### Advanced Features

- **Citations System**: ë©”ëª¨ë¦¬ ì¶œì²˜ ì¶”ì  (`[mem:abc123]` í˜•ì‹)ìœ¼ë¡œ ê²€ìƒ‰ ê²°ê³¼ì˜ ì›ë³¸ í™•ì¸ ê°€ëŠ¥
- **Endless Mode**: ì„¸ì…˜ ê²½ê³„ ì—†ëŠ” ì—°ì†ì  ë©”ëª¨ë¦¬ ìŠ¤íŠ¸ë¦¼, Biomimetic Memory Architecture ê¸°ë°˜
- **Entity-Edge Model**: entries/entities/edges 3-layer ëª¨ë¸ë¡œ ë°ì´í„° ê´€ê³„ ëª…ì‹œì  ëª¨ë¸ë§
- **Evidence Aligner V2**: Quote ê¸°ë°˜ 3ë‹¨ê³„ ì •ë ¬ (exact â†’ normalized â†’ fuzzy)
- **MCP Desktop Integration**: Claude Desktopìš© MCP ì„œë²„ë¡œ CLIì™€ ë™ì¼í•œ ë©”ëª¨ë¦¬ ê³µìœ 
- **PostToolUse Hook**: ë„êµ¬ ì‹¤í–‰ ê²°ê³¼ (Read, Write, Bash ë“±) ìº¡ì²˜ ë° ì €ì¥
- **Private Tags**: `<private>` íƒœê·¸ë¡œ ë¯¼ê° ì •ë³´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì œì™¸
- **Progressive Disclosure**: 3-Layer ê²€ìƒ‰ (ì¸ë±ìŠ¤ â†’ íƒ€ì„ë¼ì¸ â†’ ìƒì„¸)ìœ¼ë¡œ í† í° íš¨ìœ¨í™”
- **Task Entity System**: Taskë¥¼ Entityë¡œ ìŠ¹ê²©í•˜ì—¬ ì„¸ì…˜ ê°„ ìƒíƒœ ì¶”ì 
- **Vector Outbox V2**: Transactional Outbox íŒ¨í„´ìœ¼ë¡œ DuckDB-LanceDB ì •í•©ì„± ë³´ì¥
- **Web Viewer UI**: localhost:37777 ëŒ€ì‹œë³´ë“œë¡œ ì‹¤ì‹œê°„ ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§

## ì„¤ì¹˜ ë°©ë²•

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
cd code-memory
npm install
```

### 2. ë¹Œë“œ

```bash
npm run build
```

### 3. Claude Codeì— í”ŒëŸ¬ê·¸ì¸ ë“±ë¡

ë¹Œë“œëœ í”ŒëŸ¬ê·¸ì¸ì„ Claude Code ì„¤ì •ì— ì¶”ê°€í•©ë‹ˆë‹¤:

```bash
# Claude Code ì„¤ì • ë””ë ‰í† ë¦¬ì— í”ŒëŸ¬ê·¸ì¸ ë³µì‚¬
cp -r dist/.claude-plugin ~/.claude/plugins/code-memory/
```

## ì‚¬ìš© ë°©ë²•

### ìë™ ë™ì‘ (Hooks)

í”ŒëŸ¬ê·¸ì¸ì€ Claude Code ì„¸ì…˜ì— ìë™ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ë™ì‘í•©ë‹ˆë‹¤:

| Hook | ë™ì‘ |
|------|------|
| **SessionStart** | ì„¸ì…˜ ì‹œì‘ ì‹œ í”„ë¡œì íŠ¸ ê´€ë ¨ ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ |
| **UserPromptSubmit** | í”„ë¡¬í”„íŠ¸ ì…ë ¥ ì‹œ ê´€ë ¨ ê¸°ì–µ ê²€ìƒ‰ ë° ì €ì¥ |
| **Stop** | AI ì‘ë‹µ ì™„ë£Œ ì‹œ ì‘ë‹µ ë‚´ìš© ì €ì¥ |
| **SessionEnd** | ì„¸ì…˜ ì¢…ë£Œ ì‹œ ìš”ì•½ ìƒì„± ë° ì €ì¥ |

### Slash ëª…ë ¹ì–´

Claude Code ë‚´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´:

```bash
# ë©”ëª¨ë¦¬ ê²€ìƒ‰ - ê´€ë ¨ ê¸°ì–µ ì°¾ê¸°
/memory-search "authentication êµ¬í˜„ ë°©ë²•"

# ëŒ€í™” ê¸°ë¡ ë³´ê¸°
/memory-history
/memory-history --limit 50
/memory-history --session <session-id>

# í†µê³„ í™•ì¸
/memory-stats

# ê¸°ì¡´ ëŒ€í™” ê¸°ë¡ ì„í¬íŠ¸
/memory-import                            # í˜„ì¬ í”„ë¡œì íŠ¸
/memory-import --all                      # ëª¨ë“  í”„ë¡œì íŠ¸
/memory-import --project /path/to/project # íŠ¹ì • í”„ë¡œì íŠ¸

# ì„í¬íŠ¸ ê°€ëŠ¥í•œ ì„¸ì…˜ ëª©ë¡
/memory-list

# ë©”ëª¨ë¦¬ ì‚­ì œ
/memory-forget --session <id> --confirm
```

### CLI ëª…ë ¹ì–´

í„°ë¯¸ë„ì—ì„œ ì§ì ‘ ì‚¬ìš©:

```bash
# ë©”ëª¨ë¦¬ ê²€ìƒ‰
npx code-memory search "React ì»´í¬ë„ŒíŠ¸ íŒ¨í„´"
npx code-memory search "API ì—ëŸ¬ ì²˜ë¦¬" --top-k 10

# ëŒ€í™” ê¸°ë¡ ì¡°íšŒ
npx code-memory history
npx code-memory history --limit 50 --type user_prompt

# í†µê³„ í™•ì¸
npx code-memory stats

# ê¸°ì¡´ ì„¸ì…˜ ì„í¬íŠ¸
npx code-memory import                    # í˜„ì¬ í”„ë¡œì íŠ¸
npx code-memory import --all              # ëª¨ë“  í”„ë¡œì íŠ¸
npx code-memory import --all --verbose    # ìƒì„¸ ë¡œê·¸

# ì„í¬íŠ¸ ê°€ëŠ¥í•œ ì„¸ì…˜ ëª©ë¡
npx code-memory list
npx code-memory list --project /path/to/project

# ì„ë² ë”© ìˆ˜ë™ ì²˜ë¦¬
npx code-memory process
```

## Privacy ê¸°ëŠ¥

### Private Tags

ë¯¼ê°í•œ ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ ì œì™¸í•˜ë ¤ë©´ `<private>` íƒœê·¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```markdown
ì´ ë¶€ë¶„ì€ ì €ì¥ë©ë‹ˆë‹¤.

<private>
API_KEY=sk-xxxx
SECRET_TOKEN=abc123
ì´ ë‚´ìš©ì€ ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
</private>

ì´ ë¶€ë¶„ë„ ì €ì¥ë©ë‹ˆë‹¤.
```

ì €ì¥ ê²°ê³¼:
```
ì´ ë¶€ë¶„ì€ ì €ì¥ë©ë‹ˆë‹¤.
[PRIVATE]
ì´ ë¶€ë¶„ë„ ì €ì¥ë©ë‹ˆë‹¤.
```

### ìë™ í•„í„°ë§

ë‹¤ìŒ íŒ¨í„´ì€ ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ë©ë‹ˆë‹¤:
- `password`, `api_key`, `secret`, `token`
- Bearer í† í°
- Private Key ë¸”ë¡

## Citations (ì¸ìš© ì‹œìŠ¤í…œ)

ê²€ìƒ‰ ê²°ê³¼ì—ëŠ” ì¸ìš© IDê°€ í¬í•¨ë©ë‹ˆë‹¤:

```
ğŸ” Search Results:

#1 [mem:a7Bc3x] (score: 0.94)
   "DuckDBë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ ì†Œì‹± íŒ¨í„´ì„..."
   ğŸ“… 2026-01-30 | ğŸ”— Session abc123
```

ì›ë³¸ í™•ì¸:
```bash
code-memory show mem:a7Bc3x
```

## Endless Mode

ì„¸ì…˜ ê²½ê³„ ì—†ì´ ì—°ì†ì ì¸ ë©”ëª¨ë¦¬ ìŠ¤íŠ¸ë¦¼ì„ ìœ ì§€í•©ë‹ˆë‹¤:

```bash
# Endless Mode í™œì„±í™”
code-memory config set mode endless

# ìƒíƒœ í™•ì¸
code-memory status

# ì¶œë ¥ ì˜ˆì‹œ:
# Mode: Endless
# Working Set: 47 events (last 18 hours)
# Continuity Score: 0.85 (seamless)
# Consolidated: 23 memories
```

### ëª¨ë“œ ë¹„êµ

| ê¸°ì¡´ ì„¸ì…˜ ëª¨ë“œ | Endless Mode |
|---------------|-------------|
| ëª…í™•í•œ ì‹œì‘/ë | ì—°ì†ì  ìŠ¤íŠ¸ë¦¼ |
| ì„¸ì…˜ë³„ ìš”ì•½ | ì ì§„ì  í†µí•© |
| ì¬ì‹œì‘ ì‹œ ë¹ˆ ìƒíƒœ | ì´ì „ ì»¨í…ìŠ¤íŠ¸ ìœ ì§€ |

## MCP Desktop Integration

Claude Desktopì—ì„œ ë©”ëª¨ë¦¬ ê²€ìƒ‰ì„ ì‚¬ìš©í•˜ë ¤ë©´:

```bash
# MCP ì„œë²„ ì„¤ì¹˜
code-memory mcp install

# ë˜ëŠ” ìˆ˜ë™ ì„¤ì •: ~/Library/Application Support/Claude/claude_desktop_config.json
{
  "mcpServers": {
    "code-memory": {
      "command": "npx",
      "args": ["code-memory-mcp"]
    }
  }
}
```

### ì œê³µë˜ëŠ” MCP ë„êµ¬

| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `mem-search` | ë©”ëª¨ë¦¬ ê²€ìƒ‰ |
| `mem-timeline` | íƒ€ì„ë¼ì¸ ì¡°íšŒ |
| `mem-details` | ìƒì„¸ ì •ë³´ ì¡°íšŒ |
| `mem-stats` | í†µê³„ ì¡°íšŒ |

## Web Viewer

ë¸Œë¼ìš°ì €ì—ì„œ ë©”ëª¨ë¦¬ ëŒ€ì‹œë³´ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# ì›¹ ì„œë²„ ì‹œì‘
code-memory web

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
# http://localhost:37777
```

### ì£¼ìš” ê¸°ëŠ¥
- ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼
- ì„¸ì…˜/í”„ë¡œì íŠ¸ë³„ íƒìƒ‰
- ë²¡í„° ê²€ìƒ‰ ì¸í„°í˜ì´ìŠ¤
- ì €ì¥ì†Œ í†µê³„ ëŒ€ì‹œë³´ë“œ
- Outbox ìƒíƒœ ëª¨ë‹ˆí„°ë§

## ê¸°ì¡´ ëŒ€í™” ê¸°ë¡ ì„í¬íŠ¸

ì´ë¯¸ Claude Codeë¥¼ ì‚¬ìš©í•´ì™”ë‹¤ë©´, ê¸°ì¡´ ëŒ€í™” ê¸°ë¡ì„ ì„í¬íŠ¸í•˜ì—¬ ë°”ë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# 1. ë¨¼ì € ì„í¬íŠ¸ ê°€ëŠ¥í•œ ì„¸ì…˜ í™•ì¸
npx code-memory list

# 2. í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì„¸ì…˜ ì„í¬íŠ¸
npx code-memory import

# 3. ë˜ëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ì„¸ì…˜ ì„í¬íŠ¸
npx code-memory import --all --verbose
```

### ì„í¬íŠ¸ ê²°ê³¼ ì˜ˆì‹œ

```
ğŸ“¥ Importing all sessions from all projects

â³ Processing embeddings...

âœ… Import Complete

Sessions processed: 15
Total messages: 342
Imported prompts: 156
Imported responses: 186
Skipped duplicates: 0
Embeddings processed: 342
```

### ì¤‘ë³µ ì²˜ë¦¬

ì„í¬íŠ¸ëŠ” ì½˜í…ì¸  í•´ì‹œ ê¸°ë°˜ìœ¼ë¡œ ì¤‘ë³µì„ ìë™ ê°ì§€í•©ë‹ˆë‹¤. ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•´ë„ ê°™ì€ ë‚´ìš©ì´ ì¤‘ë³µ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

## ë™ì‘ ì›ë¦¬

### 1. ë©”ëª¨ë¦¬ ì €ì¥

```
ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ ì…ë ¥
        â†“
    EventStoreì— ì €ì¥ (DuckDB, append-only)
        â†“
    Outboxì— ì„ë² ë”© ìš”ì²­ ë“±ë¡
        â†“
    Vector Workerê°€ ì„ë² ë”© ìƒì„±
        â†“
    VectorStoreì— ì €ì¥ (LanceDB)
```

### 2. ë©”ëª¨ë¦¬ ê²€ìƒ‰

```
ìƒˆ í”„ë¡¬í”„íŠ¸ ì…ë ¥
        â†“
    ì„ë² ë”© ìƒì„±
        â†“
    VectorStoreì—ì„œ ìœ ì‚¬ ë²¡í„° ê²€ìƒ‰
        â†“
    AXIOMMIND Matcherë¡œ ì‹ ë¢°ë„ ê³„ì‚°
        â†“
    ì»¨í…ìŠ¤íŠ¸ë¡œ Claudeì— ì œê³µ
```

### 3. ë©”ëª¨ë¦¬ ìŠ¹ê²© (Graduation)

ìì£¼ ì°¸ì¡°ë˜ëŠ” ë©”ëª¨ë¦¬ëŠ” ë” ë†’ì€ ë ˆë²¨ë¡œ ìŠ¹ê²©ë©ë‹ˆë‹¤:

| Level | ì´ë¦„ | ì„¤ëª… | ìŠ¹ê²© ì¡°ê±´ |
|-------|------|------|-----------|
| L0 | EventStore | ì›ë³¸ ì´ë²¤íŠ¸ | ê¸°ë³¸ ì €ì¥ |
| L1 | Structured | êµ¬ì¡°í™”ëœ íŒ¨í„´ | 3íšŒ ì´ìƒ ì ‘ê·¼ |
| L2 | Candidates | ê²€ì¦ëœ ìŠ¤í‚¤ë§ˆ | 5íšŒ ì´ìƒ, ë‹¤ì¤‘ ì„¸ì…˜ ì°¸ì¡° |
| L3 | Verified | êµì°¨ ê²€ì¦ë¨ | ë†’ì€ ì‹ ë¢°ë„ |
| L4 | Active | í™œì„± ì§€ì‹ | 10íšŒ ì´ìƒ, 3ê°œ ì´ìƒ ì„¸ì…˜ |

## ë§¤ì¹­ ì‹ ë¢°ë„

ê²€ìƒ‰ ê²°ê³¼ëŠ” ì‹ ë¢°ë„ì— ë”°ë¼ ë¶„ë¥˜ë©ë‹ˆë‹¤:

| ì‹ ë¢°ë„ | ì ìˆ˜ | Gap | ë™ì‘ |
|--------|------|-----|------|
| **High** | â‰¥0.92 | â‰¥0.03 | ìë™ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ì— í¬í•¨ |
| **Suggested** | â‰¥0.75 | <0.03 | ëŒ€ì•ˆ ì œì‹œ |
| **None** | <0.75 | - | ë§¤ì¹­ ì—†ìŒ |

## Architecture

### System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Claude Code Hooks                       â”‚
â”‚  SessionStart â”‚ UserPromptSubmit â”‚ Stop â”‚ PostToolUse â”‚ End â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Memory Service                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Retriever  â”‚  â”‚   Matcher   â”‚  â”‚  Graduation â”‚         â”‚
â”‚  â”‚  Progressiveâ”‚  â”‚   Evidence  â”‚  â”‚   L0 â†’ L4   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EventStore   â”‚ â”€â”€â”€â”€ Outbox â”€â”€â”€â”€â–¶ â”‚  VectorStore  â”‚
â”‚   (DuckDB)    â”‚    (V2 Pattern)   â”‚   (LanceDB)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Entity-Edge Model (3-Layer)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        edges                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    evidence_of    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Entry   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Entity  â”‚               â”‚
â”‚  â”‚ (Fact,   â”‚                   â”‚ (Task,   â”‚               â”‚
â”‚  â”‚ Decision)â”‚                   â”‚ Artifact)â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚       â”‚                              â”‚                       â”‚
â”‚       â”‚ derived_from                 â”‚ blocked_by           â”‚
â”‚       â–¼                              â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Entry   â”‚                   â”‚  Entity  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Progressive Disclosure (í† í° íš¨ìœ¨í™”)

```
Layer 1: Search Index (~50-100 tokens/result)
    â”‚     { id, summary, score }
    â”‚
    â””â”€â”€â–¶ Layer 2: Timeline Context (~200 tokens)
              â”‚     ì‹œê°„ìˆœ ì „í›„ ë§¥ë½
              â”‚
              â””â”€â”€â–¶ Layer 3: Full Details (~500-1000 tokens)
                        ì„ íƒëœ í•­ëª©ë§Œ ì „ì²´ ë¡œë“œ
```

### MCP Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Claude Desktop    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    code-memory-mcp  â”‚
â”‚   (MCP Client)      â”‚  stdio  â”‚    (MCP Server)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   Shared Storage    â”‚
                                â”‚  ~/.claude-code/    â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## AXIOMMIND 7 ì›ì¹™

1. **Single Source of Truth**: DuckDB EventStoreê°€ ìœ ì¼í•œ ì§„ì‹¤ì˜ ì›ì²œ
2. **Append-Only**: ì´ë²¤íŠ¸ëŠ” ìˆ˜ì •/ì‚­ì œ ì—†ì´ ì¶”ê°€ë§Œ
3. **Idempotency**: dedupe_keyë¡œ ì¤‘ë³µ ì´ë²¤íŠ¸ ê°ì§€
4. **Evidence Alignment**: ì£¼ì¥ì´ ì‹¤ì œ ì†ŒìŠ¤ì— ê¸°ë°˜í–ˆëŠ”ì§€ ê²€ì¦
5. **Entity-Based Tasks**: canonical_keyë¡œ ì¼ê´€ëœ ì—”í‹°í‹° ì‹ë³„
6. **Vector Store Consistency**: DuckDB â†’ LanceDB ë‹¨ë°©í–¥ íë¦„
7. **Standard JSON**: ëª¨ë“  ë°ì´í„°ëŠ” ì´ì‹ ê°€ëŠ¥í•œ JSON í˜•ì‹

## ì €ì¥ ìœ„ì¹˜

ë©”ëª¨ë¦¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒ ìœ„ì¹˜ì— ì €ì¥ë©ë‹ˆë‹¤:

```
~/.claude-code/memory/
â”œâ”€â”€ events.duckdb     # ì´ë²¤íŠ¸ ì €ì¥ì†Œ
â””â”€â”€ vectors/          # ë²¡í„° ì„ë² ë”©
```

Claude Code ì„¸ì…˜ ê¸°ë¡ ìœ„ì¹˜:

```
~/.claude/projects/<project-hash>/<session-id>.jsonl
```

## ê°œë°œ

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ë¹Œë“œ
npm run build

# í…ŒìŠ¤íŠ¸
npm test

# íƒ€ì… ì²´í¬
npm run typecheck

# ê°œë°œ ëª¨ë“œ ì‹¤í–‰
npm run dev
```

## ê¸°ìˆ  ìŠ¤íƒ

- **DuckDB**: ì´ë²¤íŠ¸ ì €ì¥ì†Œ (append-only SQL)
- **LanceDB**: ë²¡í„° ì €ì¥ì†Œ (ê³ ì„±ëŠ¥ ë²¡í„° ê²€ìƒ‰)
- **@xenova/transformers**: ë¡œì»¬ ì„ë² ë”© ìƒì„±
- **Zod**: ëŸ°íƒ€ì„ íƒ€ì… ê²€ì¦
- **Commander**: CLI ì¸í„°í˜ì´ìŠ¤
- **TypeScript**: íƒ€ì… ì•ˆì „í•œ ì½”ë“œ
- **Bun**: HTTP ì„œë²„ (Web Viewer)
- **Hono**: ê²½ëŸ‰ ë¼ìš°í„°
- **MCP SDK**: Claude Desktop í†µí•©

## Specification Documents

ìƒì„¸ ì„¤ê³„ ë¬¸ì„œëŠ” `specs/` ë””ë ‰í† ë¦¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [citations-system](specs/citations-system/spec.md) | ë©”ëª¨ë¦¬ ì¸ìš© ì‹œìŠ¤í…œ |
| [endless-mode](specs/endless-mode/spec.md) | ì—°ì† ì„¸ì…˜ ëª¨ë“œ |
| [entity-edge-model](specs/entity-edge-model/spec.md) | 3-Layer ë°ì´í„° ëª¨ë¸ |
| [evidence-aligner-v2](specs/evidence-aligner-v2/spec.md) | ì¦ê±° ì •ë ¬ ì‹œìŠ¤í…œ |
| [mcp-desktop-integration](specs/mcp-desktop-integration/spec.md) | MCP ì„œë²„ í†µí•© |
| [post-tool-use-hook](specs/post-tool-use-hook/spec.md) | ë„êµ¬ ì‚¬ìš© ê¸°ë¡ |
| [private-tags](specs/private-tags/spec.md) | í”„ë¼ì´ë²„ì‹œ íƒœê·¸ |
| [progressive-disclosure](specs/progressive-disclosure/spec.md) | í† í° íš¨ìœ¨í™” ê²€ìƒ‰ |
| [task-entity-system](specs/task-entity-system/spec.md) | Task Entity ê´€ë¦¬ |
| [vector-outbox-v2](specs/vector-outbox-v2/spec.md) | Transactional Outbox |
| [web-viewer-ui](specs/web-viewer-ui/spec.md) | ì›¹ ëŒ€ì‹œë³´ë“œ |

## Roadmap

### Phase 1: Core (ì™„ë£Œ)
- [x] Event Store (DuckDB)
- [x] Vector Store (LanceDB)
- [x] Memory Graduation (L0â†’L4)
- [x] Evidence Alignment
- [x] History Import

### Phase 2: Advanced Features (ì§„í–‰ ì¤‘)
- [ ] Citations System
- [ ] Endless Mode
- [ ] Entity-Edge Model
- [ ] Evidence Aligner V2
- [ ] Private Tags

### Phase 3: Integration
- [ ] MCP Desktop Integration
- [ ] Web Viewer UI
- [ ] PostToolUse Hook
- [ ] Progressive Disclosure

### Phase 4: Optimization
- [ ] Vector Outbox V2
- [ ] Task Entity System
- [ ] Performance Tuning

## License

MIT
